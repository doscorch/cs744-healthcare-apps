{"ast":null,"code":"const debug = require('debug')('@feathersjs/errors');\n\nfunction FeathersError(msg, name, code, className, data) {\n  msg = msg || 'Error';\n  let errors;\n  let message;\n  let newData;\n\n  if (msg instanceof Error) {\n    message = msg.message || 'Error'; // NOTE (EK): This is typically to handle validation errors\n\n    if (msg.errors) {\n      errors = msg.errors;\n    }\n  } else if (typeof msg === 'object') {\n    // Support plain old objects\n    message = msg.message || 'Error';\n    data = msg;\n  } else {\n    // message is just a string\n    message = msg;\n  }\n\n  if (data) {\n    // NOTE(EK): To make sure that we are not messing\n    // with immutable data, just make a copy.\n    // https://github.com/feathersjs/errors/issues/19\n    newData = JSON.parse(JSON.stringify(data));\n\n    if (newData.errors) {\n      errors = newData.errors;\n      delete newData.errors;\n    } else if (data.errors) {\n      // The errors property from data could be\n      // stripped away while cloning resulting newData not to have it\n      // For example: when cloning arrays this property\n      errors = JSON.parse(JSON.stringify(data.errors));\n    }\n  } // NOTE (EK): Babel doesn't support this so\n  // we have to pass in the class name manually.\n  // this.name = this.constructor.name;\n\n\n  this.type = 'FeathersError';\n  this.name = name;\n  this.message = message;\n  this.code = code;\n  this.className = className;\n  this.data = newData;\n  this.errors = errors || {};\n  debug(`${this.name}(${this.code}): ${this.message}`);\n  debug(this.errors);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, FeathersError);\n  } else {\n    this.stack = new Error().stack;\n  }\n}\n\nfunction inheritsFrom(Child, Parent) {\n  Child.prototype = Object.create(Parent.prototype);\n  Child.prototype.constructor = Child;\n}\n\ninheritsFrom(FeathersError, Error); // NOTE (EK): A little hack to get around `message` not\n// being included in the default toJSON call.\n\nObject.defineProperty(FeathersError.prototype, 'toJSON', {\n  value: function () {\n    return {\n      name: this.name,\n      message: this.message,\n      code: this.code,\n      className: this.className,\n      data: this.data,\n      errors: this.errors\n    };\n  }\n}); // 400 - Bad Request\n\nfunction BadRequest(message, data) {\n  FeathersError.call(this, message, 'BadRequest', 400, 'bad-request', data);\n}\n\ninheritsFrom(BadRequest, FeathersError); // 401 - Not Authenticated\n\nfunction NotAuthenticated(message, data) {\n  FeathersError.call(this, message, 'NotAuthenticated', 401, 'not-authenticated', data);\n}\n\ninheritsFrom(NotAuthenticated, FeathersError); // 402 - Payment Error\n\nfunction PaymentError(message, data) {\n  FeathersError.call(this, message, 'PaymentError', 402, 'payment-error', data);\n}\n\ninheritsFrom(PaymentError, FeathersError); // 403 - Forbidden\n\nfunction Forbidden(message, data) {\n  FeathersError.call(this, message, 'Forbidden', 403, 'forbidden', data);\n}\n\ninheritsFrom(Forbidden, FeathersError); // 404 - Not Found\n\nfunction NotFound(message, data) {\n  FeathersError.call(this, message, 'NotFound', 404, 'not-found', data);\n}\n\ninheritsFrom(NotFound, FeathersError); // 405 - Method Not Allowed\n\nfunction MethodNotAllowed(message, data) {\n  FeathersError.call(this, message, 'MethodNotAllowed', 405, 'method-not-allowed', data);\n}\n\ninheritsFrom(MethodNotAllowed, FeathersError); // 406 - Not Acceptable\n\nfunction NotAcceptable(message, data) {\n  FeathersError.call(this, message, 'NotAcceptable', 406, 'not-acceptable', data);\n}\n\ninheritsFrom(NotAcceptable, FeathersError); // 408 - Timeout\n\nfunction Timeout(message, data) {\n  FeathersError.call(this, message, 'Timeout', 408, 'timeout', data);\n}\n\ninheritsFrom(Timeout, FeathersError); // 409 - Conflict\n\nfunction Conflict(message, data) {\n  FeathersError.call(this, message, 'Conflict', 409, 'conflict', data);\n}\n\ninheritsFrom(Conflict, FeathersError); // 410 - Gone\n\nfunction Gone(message, data) {\n  FeathersError(this, message, 'Gone', 410, 'gone', data);\n}\n\ninheritsFrom(Gone, FeathersError); // 411 - Length Required\n\nfunction LengthRequired(message, data) {\n  FeathersError.call(this, message, 'LengthRequired', 411, 'length-required', data);\n}\n\ninheritsFrom(LengthRequired, FeathersError); // 422 Unprocessable\n\nfunction Unprocessable(message, data) {\n  FeathersError.call(this, message, 'Unprocessable', 422, 'unprocessable', data);\n}\n\ninheritsFrom(Unprocessable, FeathersError); // 429 Too Many Requests\n\nfunction TooManyRequests(message, data) {\n  FeathersError.call(this, message, 'TooManyRequests', 429, 'too-many-requests', data);\n}\n\ninheritsFrom(TooManyRequests, FeathersError); // 500 - General Error\n\nfunction GeneralError(message, data) {\n  FeathersError.call(this, message, 'GeneralError', 500, 'general-error', data);\n}\n\ninheritsFrom(GeneralError, FeathersError); // 501 - Not Implemented\n\nfunction NotImplemented(message, data) {\n  FeathersError.call(this, message, 'NotImplemented', 501, 'not-implemented', data);\n}\n\ninheritsFrom(NotImplemented, FeathersError); // 502 - Bad Gateway\n\nfunction BadGateway(message, data) {\n  FeathersError.call(this, message, 'BadGateway', 502, 'bad-gateway', data);\n}\n\ninheritsFrom(BadGateway, FeathersError); // 503 - Unavailable\n\nfunction Unavailable(message, data) {\n  FeathersError.call(this, message, 'Unavailable', 503, 'unavailable', data);\n}\n\ninheritsFrom(Unavailable, FeathersError);\nconst errors = {\n  FeathersError,\n  BadRequest,\n  NotAuthenticated,\n  PaymentError,\n  Forbidden,\n  NotFound,\n  MethodNotAllowed,\n  NotAcceptable,\n  Timeout,\n  Conflict,\n  Gone,\n  LengthRequired,\n  Unprocessable,\n  TooManyRequests,\n  GeneralError,\n  NotImplemented,\n  BadGateway,\n  Unavailable,\n  400: BadRequest,\n  401: NotAuthenticated,\n  402: PaymentError,\n  403: Forbidden,\n  404: NotFound,\n  405: MethodNotAllowed,\n  406: NotAcceptable,\n  408: Timeout,\n  409: Conflict,\n  410: Gone,\n  411: LengthRequired,\n  422: Unprocessable,\n  429: TooManyRequests,\n  500: GeneralError,\n  501: NotImplemented,\n  502: BadGateway,\n  503: Unavailable\n};\n\nfunction convert(error) {\n  if (!error) {\n    return error;\n  }\n\n  const FeathersError = errors[error.name];\n  const result = FeathersError ? new FeathersError(error.message, error.data) : new Error(error.message || error);\n\n  if (typeof error === 'object') {\n    Object.assign(result, error);\n  }\n\n  return result;\n}\n\nmodule.exports = Object.assign({\n  convert\n}, errors);","map":{"version":3,"sources":["D:/School work/CS 744/cs744-healthcare-apps/healthcare/client/node_modules/@feathersjs/errors/lib/index.js"],"names":["debug","require","FeathersError","msg","name","code","className","data","errors","message","newData","Error","JSON","parse","stringify","type","captureStackTrace","stack","inheritsFrom","Child","Parent","prototype","Object","create","constructor","defineProperty","value","BadRequest","call","NotAuthenticated","PaymentError","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","Timeout","Conflict","Gone","LengthRequired","Unprocessable","TooManyRequests","GeneralError","NotImplemented","BadGateway","Unavailable","convert","error","result","assign","module","exports"],"mappings":"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","sourcesContent":["const debug = require('debug')('@feathersjs/errors');\r\n\r\nfunction FeathersError (msg, name, code, className, data) {\r\n  msg = msg || 'Error';\r\n\r\n  let errors;\r\n  let message;\r\n  let newData;\r\n\r\n  if (msg instanceof Error) {\r\n    message = msg.message || 'Error';\r\n\r\n    // NOTE (EK): This is typically to handle validation errors\r\n    if (msg.errors) {\r\n      errors = msg.errors;\r\n    }\r\n  } else if (typeof msg === 'object') { // Support plain old objects\r\n    message = msg.message || 'Error';\r\n    data = msg;\r\n  } else { // message is just a string\r\n    message = msg;\r\n  }\r\n\r\n  if (data) {\r\n    // NOTE(EK): To make sure that we are not messing\r\n    // with immutable data, just make a copy.\r\n    // https://github.com/feathersjs/errors/issues/19\r\n    newData = JSON.parse(JSON.stringify(data));\r\n\r\n    if (newData.errors) {\r\n      errors = newData.errors;\r\n      delete newData.errors;\r\n    } else if (data.errors) {\r\n      // The errors property from data could be\r\n      // stripped away while cloning resulting newData not to have it\r\n      // For example: when cloning arrays this property\r\n      errors = JSON.parse(JSON.stringify(data.errors));\r\n    }\r\n  }\r\n\r\n  // NOTE (EK): Babel doesn't support this so\r\n  // we have to pass in the class name manually.\r\n  // this.name = this.constructor.name;\r\n  this.type = 'FeathersError';\r\n  this.name = name;\r\n  this.message = message;\r\n  this.code = code;\r\n  this.className = className;\r\n  this.data = newData;\r\n  this.errors = errors || {};\r\n\r\n  debug(`${this.name}(${this.code}): ${this.message}`);\r\n  debug(this.errors);\r\n\r\n  if (Error.captureStackTrace) {\r\n    Error.captureStackTrace(this, FeathersError);\r\n  } else {\r\n    this.stack = (new Error()).stack;\r\n  }\r\n}\r\n\r\nfunction inheritsFrom (Child, Parent) {\r\n  Child.prototype = Object.create(Parent.prototype);\r\n  Child.prototype.constructor = Child;\r\n}\r\n\r\ninheritsFrom(FeathersError, Error);\r\n\r\n// NOTE (EK): A little hack to get around `message` not\r\n// being included in the default toJSON call.\r\nObject.defineProperty(FeathersError.prototype, 'toJSON', {\r\n  value: function () {\r\n    return {\r\n      name: this.name,\r\n      message: this.message,\r\n      code: this.code,\r\n      className: this.className,\r\n      data: this.data,\r\n      errors: this.errors\r\n    };\r\n  }\r\n});\r\n\r\n// 400 - Bad Request\r\nfunction BadRequest (message, data) {\r\n  FeathersError.call(this, message, 'BadRequest', 400, 'bad-request', data);\r\n}\r\n\r\ninheritsFrom(BadRequest, FeathersError);\r\n\r\n// 401 - Not Authenticated\r\nfunction NotAuthenticated (message, data) {\r\n  FeathersError.call(this, message, 'NotAuthenticated', 401, 'not-authenticated', data);\r\n}\r\n\r\ninheritsFrom(NotAuthenticated, FeathersError);\r\n\r\n// 402 - Payment Error\r\nfunction PaymentError (message, data) {\r\n  FeathersError.call(this, message, 'PaymentError', 402, 'payment-error', data);\r\n}\r\n\r\ninheritsFrom(PaymentError, FeathersError);\r\n\r\n// 403 - Forbidden\r\nfunction Forbidden (message, data) {\r\n  FeathersError.call(this, message, 'Forbidden', 403, 'forbidden', data);\r\n}\r\n\r\ninheritsFrom(Forbidden, FeathersError);\r\n\r\n// 404 - Not Found\r\nfunction NotFound (message, data) {\r\n  FeathersError.call(this, message, 'NotFound', 404, 'not-found', data);\r\n}\r\n\r\ninheritsFrom(NotFound, FeathersError);\r\n\r\n// 405 - Method Not Allowed\r\nfunction MethodNotAllowed (message, data) {\r\n  FeathersError.call(this, message, 'MethodNotAllowed', 405, 'method-not-allowed', data);\r\n}\r\n\r\ninheritsFrom(MethodNotAllowed, FeathersError);\r\n\r\n// 406 - Not Acceptable\r\nfunction NotAcceptable (message, data) {\r\n  FeathersError.call(this, message, 'NotAcceptable', 406, 'not-acceptable', data);\r\n}\r\n\r\ninheritsFrom(NotAcceptable, FeathersError);\r\n\r\n// 408 - Timeout\r\nfunction Timeout (message, data) {\r\n  FeathersError.call(this, message, 'Timeout', 408, 'timeout', data);\r\n}\r\n\r\ninheritsFrom(Timeout, FeathersError);\r\n\r\n// 409 - Conflict\r\nfunction Conflict (message, data) {\r\n  FeathersError.call(this, message, 'Conflict', 409, 'conflict', data);\r\n}\r\n\r\ninheritsFrom(Conflict, FeathersError);\r\n\r\n// 410 - Gone\r\nfunction Gone (message, data) {\r\n  FeathersError(this, message, 'Gone', 410, 'gone', data);\r\n}\r\n\r\ninheritsFrom(Gone, FeathersError);\r\n\r\n// 411 - Length Required\r\nfunction LengthRequired (message, data) {\r\n  FeathersError.call(this, message, 'LengthRequired', 411, 'length-required', data);\r\n}\r\n\r\ninheritsFrom(LengthRequired, FeathersError);\r\n\r\n// 422 Unprocessable\r\nfunction Unprocessable (message, data) {\r\n  FeathersError.call(this, message, 'Unprocessable', 422, 'unprocessable', data);\r\n}\r\n\r\ninheritsFrom(Unprocessable, FeathersError);\r\n\r\n// 429 Too Many Requests\r\nfunction TooManyRequests (message, data) {\r\n  FeathersError.call(this, message, 'TooManyRequests', 429, 'too-many-requests', data);\r\n}\r\n\r\ninheritsFrom(TooManyRequests, FeathersError);\r\n\r\n// 500 - General Error\r\nfunction GeneralError (message, data) {\r\n  FeathersError.call(this, message, 'GeneralError', 500, 'general-error', data);\r\n}\r\n\r\ninheritsFrom(GeneralError, FeathersError);\r\n\r\n// 501 - Not Implemented\r\nfunction NotImplemented (message, data) {\r\n  FeathersError.call(this, message, 'NotImplemented', 501, 'not-implemented', data);\r\n}\r\n\r\ninheritsFrom(NotImplemented, FeathersError);\r\n\r\n// 502 - Bad Gateway\r\nfunction BadGateway (message, data) {\r\n  FeathersError.call(this, message, 'BadGateway', 502, 'bad-gateway', data);\r\n}\r\n\r\ninheritsFrom(BadGateway, FeathersError);\r\n\r\n// 503 - Unavailable\r\nfunction Unavailable (message, data) {\r\n  FeathersError.call(this, message, 'Unavailable', 503, 'unavailable', data);\r\n}\r\n\r\ninheritsFrom(Unavailable, FeathersError);\r\n\r\nconst errors = {\r\n  FeathersError,\r\n  BadRequest,\r\n  NotAuthenticated,\r\n  PaymentError,\r\n  Forbidden,\r\n  NotFound,\r\n  MethodNotAllowed,\r\n  NotAcceptable,\r\n  Timeout,\r\n  Conflict,\r\n  Gone,\r\n  LengthRequired,\r\n  Unprocessable,\r\n  TooManyRequests,\r\n  GeneralError,\r\n  NotImplemented,\r\n  BadGateway,\r\n  Unavailable,\r\n  400: BadRequest,\r\n  401: NotAuthenticated,\r\n  402: PaymentError,\r\n  403: Forbidden,\r\n  404: NotFound,\r\n  405: MethodNotAllowed,\r\n  406: NotAcceptable,\r\n  408: Timeout,\r\n  409: Conflict,\r\n  410: Gone,\r\n  411: LengthRequired,\r\n  422: Unprocessable,\r\n  429: TooManyRequests,\r\n  500: GeneralError,\r\n  501: NotImplemented,\r\n  502: BadGateway,\r\n  503: Unavailable\r\n};\r\n\r\nfunction convert (error) {\r\n  if (!error) {\r\n    return error;\r\n  }\r\n\r\n  const FeathersError = errors[error.name];\r\n  const result = FeathersError\r\n    ? new FeathersError(error.message, error.data)\r\n    : new Error(error.message || error);\r\n\r\n  if (typeof error === 'object') {\r\n    Object.assign(result, error);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports = Object.assign({ convert }, errors);\r\n"]},"metadata":{},"sourceType":"script"}