{"ast":null,"code":"const Base = require('./base');\n\nclass AngularService extends Base {\n  request(options, params) {\n    const http = this.connection;\n    const Headers = this.options.Headers;\n\n    if (!http || !Headers) {\n      throw new Error(`Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest`);\n    }\n\n    const url = options.url;\n    const {\n      connection = {}\n    } = params;\n    const headers = new Headers(Object.assign({\n      Accept: 'application/json'\n    }, this.options.headers, options.headers, connection.headers));\n    const requestOptions = Object.assign({\n      method: options.method,\n      body: options.body\n    }, connection, {\n      headers\n    });\n    return new Promise((resolve, reject) => {\n      http.request(url, requestOptions).subscribe(resolve, reject);\n    }).then(res => res.json()).catch(error => {\n      const response = error.response || error;\n      throw response instanceof Error ? response : response.json() || response;\n    });\n  }\n\n}\n\nmodule.exports = AngularService;","map":{"version":3,"sources":["/Users/doscorch/Desktop/cs744 project/healthcare/client/node_modules/@feathersjs/rest-client/lib/angular.js"],"names":["Base","require","AngularService","request","options","params","http","connection","Headers","Error","url","headers","Object","assign","Accept","requestOptions","method","body","Promise","resolve","reject","subscribe","then","res","json","catch","error","response","module","exports"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAD,CAApB;;AAEA,MAAMC,cAAN,SAA6BF,IAA7B,CAAkC;AAChCG,EAAAA,OAAO,CAAEC,OAAF,EAAWC,MAAX,EAAmB;AACxB,UAAMC,IAAI,GAAG,KAAKC,UAAlB;AACA,UAAMC,OAAO,GAAG,KAAKJ,OAAL,CAAaI,OAA7B;;AAEA,QAAI,CAACF,IAAD,IAAS,CAACE,OAAd,EAAuB;AACrB,YAAM,IAAIC,KAAJ,CAAW,gGAAX,CAAN;AACD;;AAED,UAAMC,GAAG,GAAGN,OAAO,CAACM,GAApB;AACA,UAAM;AAAEH,MAAAA,UAAU,GAAG;AAAf,QAAsBF,MAA5B;AACA,UAAMM,OAAO,GAAG,IAAIH,OAAJ,CACdI,MAAM,CAACC,MAAP,CACE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KADF,EAEE,KAAKV,OAAL,CAAaO,OAFf,EAGEP,OAAO,CAACO,OAHV,EAIEJ,UAAU,CAACI,OAJb,CADc,CAAhB;AAQA,UAAMI,cAAc,GAAGH,MAAM,CAACC,MAAP,CAAc;AACnCG,MAAAA,MAAM,EAAEZ,OAAO,CAACY,MADmB;AAEnCC,MAAAA,IAAI,EAAEb,OAAO,CAACa;AAFqB,KAAd,EAGpBV,UAHoB,EAGR;AAAEI,MAAAA;AAAF,KAHQ,CAAvB;AAKA,WAAO,IAAIO,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCd,MAAAA,IAAI,CAACH,OAAL,CAAaO,GAAb,EAAkBK,cAAlB,EACGM,SADH,CACaF,OADb,EACsBC,MADtB;AAED,KAHM,EAIJE,IAJI,CAICC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJR,EAKJC,KALI,CAKEC,KAAK,IAAI;AACd,YAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAN,IAAkBD,KAAnC;AAEA,YAAMC,QAAQ,YAAYlB,KAApB,GAA4BkB,QAA5B,GAAwCA,QAAQ,CAACH,IAAT,MAAmBG,QAAjE;AACD,KATI,CAAP;AAUD;;AAlC+B;;AAqClCC,MAAM,CAACC,OAAP,GAAiB3B,cAAjB","sourcesContent":["const Base = require('./base');\n\nclass AngularService extends Base {\n  request (options, params) {\n    const http = this.connection;\n    const Headers = this.options.Headers;\n\n    if (!http || !Headers) {\n      throw new Error(`Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest`);\n    }\n\n    const url = options.url;\n    const { connection = {} } = params;\n    const headers = new Headers(\n      Object.assign(\n        { Accept: 'application/json' },\n        this.options.headers,\n        options.headers,\n        connection.headers\n      )\n    );\n    const requestOptions = Object.assign({\n      method: options.method,\n      body: options.body\n    }, connection, { headers });\n\n    return new Promise((resolve, reject) => {\n      http.request(url, requestOptions)\n        .subscribe(resolve, reject);\n    })\n      .then(res => res.json())\n      .catch(error => {\n        const response = error.response || error;\n\n        throw response instanceof Error ? response : (response.json() || response);\n      });\n  }\n}\n\nmodule.exports = AngularService;\n"]},"metadata":{},"sourceType":"script"}